% !TEX root=../main.tex


\section{Calculus}
\label{sec:language}

Differences with the normal grammar are discussed in each subsection.


\subsection{Expressions}

\usemacro{G-Language}

\begin{itemize}
  \item
    Symbols $s$ can be part of any expression.
    As locations $l$, they are not intended to be used by programmers,
    they are generated by the semantics.
    Symbols are intuitively a read input from the end user.
  \item
    Unary and binary operations are made explicit.
\end{itemize}

\usemacro{G-Pretasks}

\begin{itemize}
  \item
    There are read-only versions of valued and shared editors.
    \fixme{Are they needed?}
\end{itemize}



\subsection{Types}

\usemacro{G-Types}

(Nothing changes here.)
\todo{Add typing rule for symbols.}


\subsection{Values}

\usemacro{G-Values}

\begin{itemize}
  \item
    Symbols $s$ are now values,
    as are unary and binary operations containing symbols.
    Operations on normal values are normally evaluated.
    Note that pairs of symbols are allowed!
    This could be extended to lists of symbols in the future.
\end{itemize}

\usemacro{G-Tasks}

\begin{itemize}
  \item Read-only editors are added in the obvious way.
\end{itemize}



\subsection{Inputs}

\usemacro{G-Inputs}

\begin{itemize}
  \item Editors cannot be set to a concrete value $v$, but only to a symbol $s$.
\end{itemize}



\subsection{Predicates}

\usemacro{G-Predicates}

First stab at predicates.
\begin{itemize}
  \item Similar to values but should not contain other functions except for the operations \SMT solvers know about!
  \item Should contain constants $c$.
  \item Should contain symbols $s$ and operations $u$ and $o$ on them.
\end{itemize}
