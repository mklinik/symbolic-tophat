% !TEX root=../main.tex


\section{Semantics}
\label{sec:semantics}



\subsection{Observations}

\todo{Extend for read-only editors.}

\begin{center}
  \usemacro{O-Value}
\end{center}

\begin{center}
  \usemacro{O-Failing}
\end{center}

% \usemacro{O-Inputs}

\fixme{Are these still correct?}



\subsection{Evaluation}

\begin{gather*}
  \boxed{\RelationE} \Break
  \userule{Sym-E-Value}\Quad
  \userule{Sym-E-Pair} \Break
  \userule{Sym-E-App} \Quad
  \userule{Sym-E-IfTrue} \Break
  \userule{Sym-E-IfFalse} \Break
  \userule{Sym-E-Ref} \Quad
  \userule{Sym-E-Deref} \Break
  \userule{Sym-E-Assign} \Quad
  \userule{Sym-E-Edit} \Break
  \userule{Sym-E-Enter}\Quad
  \userule{Sym-E-Update}\Break
  \userule{Sym-E-Then}\Quad
  \userule{Sym-E-Next}\Break
  \userule{Sym-E-And}\Break
  \userule{Sym-E-Or} \Break
  \userule{Sym-E-Xor}\Quad
  \userule{Sym-E-Fail}
\end{gather*}



\subsection{Normalisation}

\begin{gather*}
  \boxed{\RelationS} \Break
  \userule{Sym-S-ThenStay} \Break
  \userule{Sym-S-ThenFail} \Break
  \userule{Sym-S-ThenCont} \Break
  \userule{Sym-S-OrLeft} \Break
  \userule{Sym-S-OrRight} \Break
  \userule{Sym-S-OrNone} \Break
  \userule{Sym-S-Edit} \Quad
  \userule{Sym-S-Fill} \Break
  \userule{Sym-S-Update} \Quad
  \userule{Sym-S-Fail} \Break
  \userule{Sym-S-Xor} \Quad
  \userule{Sym-S-Next} \Break
  \userule{Sym-S-And}
\end{gather*}


\begin{gather*}
  \boxed{\RelationN} \Break
  \userule{Sym-N-Done} \Break
  \userule{Sym-N-Repeat}
\end{gather*}



\subsection{Handling}

\begin{gather*}
  \boxed{\RelationH} \Break
  \userule{Sym-H-Change} \Quad
  \userule{Sym-H-Empty} \Break
  \userule{Sym-H-Fill} \Quad
  \userule{Sym-H-Update}\Break
  \userule{Sym-H-Next} \Break
  \userule{Sym-H-PassThen} \Quad
  \userule{Sym-H-PassNext} \Break
  \userule{Sym-H-PickLeft} \Quad
  \userule{Sym-H-PickRight}\Break
  \userule{Sym-H-FirstAnd} \Quad
  \userule{Sym-H-SecondAnd} \Break
  \userule{Sym-H-FirstOr} \Quad
  \userule{Sym-H-SecondOr}
\end{gather*}

\fixme{Is \refrule{Sym-H-Empty} needed?}


\begin{gather*}
  \boxed{\RelationI} \Break
  \userule{Sym-I-Handle}
\end{gather*}
